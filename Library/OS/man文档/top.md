`top` 是一个非常实用的 Linux 命令，用来实时显示系统的进程信息、资源使用情况（如 CPU、内存等）。它帮助用户了解当前系统的性能和进程状态。下面是 `top` 命令的一些常见用法和选项：

### 1. 启动 `top`

```bash
top
```

运行后，会进入实时的进程查看界面。默认情况下，它会显示如下信息：

- 系统时间、运行时间、登录用户数、负载平均值。
- 内存和交换空间的使用情况。
- 正在运行的进程列表。

### 2. 刷新间隔设置

默认情况下，`top` 每 3 秒刷新一次。如果你希望改变刷新间隔，可以使用 `-d` 参数：

```bash
top -d 1
```

这将把刷新间隔设置为 1 秒。

### 3. 显示进程按 CPU 使用排序

默认情况下，`top` 按照进程的 PID 排序。如果你想按 CPU 占用排序，可以在 `top` 界面按下 `P` 键（大写），它会按 CPU 占用率从高到低进行排序。

### 4. 显示进程按内存使用排序

同样，如果你想按内存占用排序，可以按 `M` 键（大写）。这会显示内存占用最多的进程。

### 5. 交互式命令

`top` 提供了很多交互式命令，下面是一些常用的：

- `q`：退出 `top`。
- `h`：显示帮助信息。
- `k`：终止一个进程，输入要杀死的进程 PID。
- `r`：修改进程优先级（改变其 nice 值）。
- `t`：切换是否显示任务的总结信息（如系统负载、内存等）。
- `i`：切换是否显示闲置进程（忽略 IDLE 状态的进程）。
- `u`：显示某个用户的进程，输入用户名即可过滤显示。

### 6. 显示特定进程

如果你只关心某个进程的情况，可以使用 `-p` 参数指定进程 ID (PID)：

```bash
top -p 1234
```

这只会显示 PID 为 1234 的进程。

### 7. 显示进程树

你可以使用 `-H` 选项显示进程的父子关系（进程树）：

```bash
top -H
```

这样可以帮助你更好地理解进程之间的依赖关系。

### 8. 保存当前配置

如果你希望将 `top` 的显示配置保存下来，可以按 `W` 键（大写），它会把当前配置写入 `~/.toprc` 文件中，下一次运行时会加载该配置。

### 9. 显示线程

默认情况下，`top` 会显示进程信息。如果你想查看线程的详细信息，可以按 `H` 键（大写）来切换为线程显示模式。

### 10. 自定义显示内容

`top` 支持通过命令行参数来更改显示内容。例如，显示某些特定的字段：

```bash
top -o %MEM
```

这会按内存使用百分比排序显示进程。

### 11. 输出结果到文件

你也可以将 `top` 的输出结果保存到文件中，可以使用 `-b`（批处理模式）选项，配合 `-n` 来指定更新次数：

```bash
top -b -n 1 > top_output.txt
```

这个命令会将一次更新的结果保存到 `top_output.txt` 文件中。
