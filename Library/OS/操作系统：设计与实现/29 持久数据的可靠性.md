我们用 “磁盘上的数据结构” 来理解文件系统，并看到了 FAT 和 UNIX 文件系统的数据结构设计。对于磁盘上的数据结构，我们有另一个假设：持久数据是不能接受丢失的——但世界上没有绝对可靠的设备。此外，因为缓存的广泛存在，数据结构的更新未必能够及时反应到磁盘上。那么，是否可以为应用程序构建可靠的持久存储？

# 29.1 实现可靠的磁盘
![[Pasted image 20241204175746.png]]
![[Pasted image 20241204175755.png]]
![[Pasted image 20241204175809.png]]

# 29.2 For Consistency
Crash Consistency
![[Pasted image 20241204175910.png]]
![[Pasted image 20241204175918.png]]
![[Pasted image 20241204175929.png]]
![[Pasted image 20241204175939.png]]
![[Pasted image 20241204175948.png]]

![[Pasted image 20241204180028.png]]

# Take-away Messages
存储系统支撑了当今的互联网工业——每个 SSD 都是 “套娃” 的计算机系统；它们又组成了大规模存储网络，构成了我们今天的数字世界。实现低成本、高性能、高可靠的存储并不是一个十分简单的问题，这也是计算机产业让我们感到激动的原因。