# 产品架构
平台是一款物联网云操作系统，为万物互联提供可靠安全稳定的终端接入、协议适配、消息路由、数据存储和分析、应用使能等核心功能。其 _**功能架构**_ 如下：
![[Pasted image 20250115103358.png]]
上图中各层服务负责的功能分别如下：
- 连接服务：提供设备联网功能，支持设备通过各种无线或有线的通信方式接入网络，并支持各种网络传输协议；
- 设备服务：提供设备基础管理功能，包括设备的鉴权管理、数据协议解析、消息路由、设备影子数据及元数据管理功能；
- 数据服务：提供设备数据的基本管理功能，包括设备的上下行日志存储，以及一些数据指标的聚合分析，如平均值、最大、最小值等；
- 使能服务：提供应用使能服务，主要是为上层或第三方应用提供按规则和条件进行数据订阅和数据转发的服务。包括应用注册、规则引擎、数据流转服务；
- 其他：包括基础的安全服务、控制台和监控服务。安全服务提供基本物联网安全机制；可视化控制台提供平台与客户交互的界面；可视化监控提供服务可用性及风险监控能力。

平台在物联网应用中常处于如下图所示位置：
![[Pasted image 20250115103540.png]]

平台本质上是一系列物联网微服务的集合，采用分布式架构，应用程序和服务组件均不存在单点风险。其 _**技术架构**_ 如下：
![[Pasted image 20250115103626.png]]
# 产品特点
## 1. 高性能
平台单集群可支持百万级设备连接和十万级QPS请求，具有毫秒级延迟，可支撑超大规模物联网设备接入需求。

## 2. 电信级高可靠
平台采用大规模分布式、高可用、高可靠集群，并提供多重安全机制。

## 3. 多协议支持
平台支持主流物联网协议，包括MQTT、CoAP、LwM2M和HTTP等，并配套若干款边缘硬件网关实现PLC、OPC等接入。同时，平台还提供边缘侧开发框架，支持更多私有协议的快速接入。

## 4. 网络透明
平台支持各种蜂窝网络(2G、3G、4G/NB-IoT) 、有线网络和无线网络，亦能支持5G中的mMTC（海量物联）和uRLLC（高可靠低时延）两大场景。

## 5. 数据持久化和实时分析
平台内置高性能分布式时序数据库，支持海量数据的持久化和实时分析，也支持与用户提供的数据库、大数据平台或消息列对接，方便用户对数据进行存储与消费。

## 6. 规则引擎
平台提供基于SQL的高速规则引擎，支持用户设置复杂规则实时过滤海量数据，减少应用侧压力，使客户聚焦业务开发。

## 7. 可伸缩
基于良好的架构设计，平台具备强大的可伸缩能力。根据业务压力，既能以数百台规模的超大集群形式运行，也可以在超小配置上运行，并支持以公有云、私有云、物理机及Docker容器和K8S等方式进行灵活部署，因此能非常好地适应端-边-云体系。

平台具备以上诸多特点，因此特别适合在以下场景中使用：

- 应用中有大规模感知设备接入，设备量可能是百万级，请求量和数据存储需求巨大；
- 应用中的感知设备多元异构，通信方式、传输协议、业务数据等复杂多样；
- 处于架构优化的目的，需要将感知层与应用层解耦，实现与复杂应用系统的快速对接；
- 需要构建统一的PaaS级平台，实现标准规范的接入及应用开发；
- 需要构建端-边-云体系，实现跨区域统一化管理；

平台目前被广泛应用于车联网、城市物联网、工业物联网、智能家居等跨行业领域。

# 边缘网关
物联网协议网关是靠近工业设备、传感器等物理设备的网络边缘侧，亦称边缘网关，主要担负物联网协议转换的功能。边缘网关是物联网系统中端侧设备数据通往云端的最后一层物理实体，因此对实现端边云协同计算具有重要意义。

平台配套若干款边缘网关，均为基于物联网架构设计的工业级嵌入式软硬件一体化设备。可实现工业现场各种设备的数据采集、存储、转发、系统维护、域名管理等功能。用户可在PC、手机上使用浏览器进行数据监控和参数配置。 边缘网关具备对下（自动化系统）协议解析能力（通讯协议：Modbus、DL/T645、CJ/T188等；总线协议：OPC UA、BACNET/IP、KNX等）；具备对上（IT系统）的协议对接能力（MQTT、TCP、UDP、HTTP），对上的通讯能力（以太网、Wi-Fi、4G）；具备对下（采集）和对上（转发）的私有协议二次开发功能。

边缘网关内置Web-UI，方便用户进行配置管理。
![[Pasted image 20250115104602.png]]
边缘网关可广泛应用于光伏电、风电站、小水电、配电室、抽油机、灌区、管道、环境监测站、消防监控室、农业大棚、空气监测站、实验室、工控中心、无人值守站等场站监控和园区能源管理系统以及各种在线监测系统等。

如下图展示了边缘网关在智慧工厂中的典型应用：
![[Pasted image 20250115104637.png]]


# 设备和应用接入
平台的南向能力体现在各类多元异构设备的接入，北向能力则体现在对各种业务系统、应用场景的支撑能力。
![[Pasted image 20250115104705.png]]用户只需登录WEB UI，基于其提供的一站式接入能力，编写少量代码，即可快速实现设备上云和应用开发。
![[Pasted image 20250115104730.png]]


