# HTTP 协议接入特点
- 支持HTTP协议，仅支持上行报文和获取缓存的下发报文(建议缓存下发报文不超过10条)。
- HTTP为短连接会话，无法实现长连接建链。默认维持1小时内设备在线状态(token默认有效时间为1小时)。
- 在token有效期内，如果设备上报数据时，token 有效期会自动延长1小时。
- 报文类型：接入鉴权报文（开启安全设备上线登录鉴权），上行数据报文，获取下发数据报文。

# 接入流程
## 操作顺序
![[Pasted image 20250115142220.png]]
- 调用上线接口成功后会返回 token，在访问其他接口（数据上报、获取下发指令接口）时需要将此 token 带上，并放在请求的 header 中。token 有效期默认为 1 小时。
- 设备上线接口含登录鉴权过程，如果token失效后，请重新调用设备上线接口获取新的token,然后在调用获取下发指令、设备数据上报接口时在header中带上新的token。

## 设备数据上报
![[Pasted image 20250115142558.png]]
