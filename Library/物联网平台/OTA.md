# 什么是 OTA
OTA（Over-the-Air Technology）即空中下载技术。平台提供OTA升级服务，使用该服务首先要确保设备端支持OTA服务，然后在OTA升级页面， 上传升级包并指定需要升级的设备,平台推送OTA升级消息给设备，设备即可下载OTA升级包，并进行OTA升级。

# OTA 升级流程
![[Pasted image 20250115133653.png]]
# 操作流程
设备管理员登录平台后，点击“OTA升级”，再点击“添加升级包”，填写如下页面。
![[Pasted image 20250115133747.png]]
升级包类型可以选择“全部版本”或“指定版本”，如果选择“指定版本”，需要填写“待升级版本号”；升级包模块分为“mcu”和“module”，对应设备详情页的”MCU固件版本“和”模组固件版本“；

创建完成后，点击“升级”，进入设备选择页面，升级类型可以选择“全部设备”或“指定设备”，如下图所示。
![[Pasted image 20250115133816.png]]

进入升级包详情，点击“批次管理”，选择某一个批次，点击“查看”，即可看到属于这个批次的设备列表，
![[Pasted image 20250115133825.png]]
如果创建批次时设备不在线，则设备升级任务状态为待推送，当设备上线时，平台会向设备推送设备升级消息；如果创建批次时设备在线，则会立刻向设备推送设备升级消息; 如果在线的设备没有收到消息，可以点击“重升级”，平台会重新推送设备升级消息。

如下图所示，在线设备收到平台发布的消息。
![[Pasted image 20250115133934.png]]
根据消息中的url字段值，即可下载升级包。

当设备升级完成后，可以进行版本号上报，通知平台设备升级任务完成。
![[Pasted image 20250115134010.png]]
设备升级任务状态变为升级成功。
![[Pasted image 20250115134019.png]]
设备详情MCU固件版本更新。
![[Pasted image 20250115134025.png]]

# 取消升级与重升级
当设备升级任务的状态为待推送或已推送时，用户可以选择“取消升级”；当设备升级任务的状态为已推送或已取消或升级失败时，用户可以选择“重升级”， 此时平台会对在线的设备立刻进行升级包的推送。

