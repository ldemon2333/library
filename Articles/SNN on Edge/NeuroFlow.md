==NeuroFlow 是一个可扩展的脉冲神经网络模拟平台==，适用于使用可定制硬件处理器（如现场可编程门阵列 (FPGA)）的现成高性能计算系统。与多核处理器和专用集成电路不同，NeuroFlow 的处理器架构可以重新设计和重新配置，以适应特定的模拟，从而提供优化的性能，例如要采用的并行度。==编译过程支持使用独立于模拟器的神经网络描述语言 PyNN 来配置处理器。==NeuroFlow 支持许多常用的基于电流或电导的神经元模型，例如积分和激发模型和 Izhikevich 模型，以及用于学习的脉冲时间相关可塑性 (STDP) 规则。6-FPGA 系统可以模拟多达 ∼600,000 个神经元的网络，并可实现 400,000 个神经元的实时性能。 NeuroFlow 使用一个 FPGA，可将速度提高到 8 核处理器的 33.6 倍，或基于 GPU 的平台的 2.83 倍。凭借高灵活性和高吞吐量，NeuroFlow 为大规模神经网络模拟提供了可行的环境。

# 介绍
大脑逆向工程是本世纪最大的工程挑战之一。各种项目一直在研究这个问题的多个方面，包括表征神经元类型及其基因转录（Hawrylycz 等人，2012 年）、开发用于探测或扰动单个细胞类型的基因工具（Madisen 等人，2010 年；Kohara 等人，2013 年）、恢复神经连接（“连接组”；Livet 等人，2007 年；Oh 等人，2014 年）、开发用于大规模神经模拟的工具和计算基础设施（Markram，2006 年；Plana 等人，2007 年；Ananthanarayanan 等人，2009 年；Markram 等人，2011 年）。随着神经模拟器的发展，神经建模促进了计算机科学研究的进步，包括人工智能、计算机视觉、机器人技术和数据挖掘等领域。多个项目正在积极研究类脑计算的计算能力（Eliasmith 等人，2012 年；Furber 等人，2014 年），并且正在开发受神经计算原理启发的新算法（Gütig 和 Sompolinsky，2006 年；Sussillo 和 Abbott，2009 年；Schmidhuber，2014 年）。最近，人们对使用脉冲神经网络 (SNN) 构建大规模模型的兴趣日益浓厚，与小规模模型相比，这种模型可以实现更高的生物准确性和更全面的功能（Izhikevich 和 Edelman，2008 年；Eliasmith 等人，2012 年；Reimann 等人，2013 年）。因此，==许多针对 SNN 的计算平台已经开发出来，例如 SpiNNaker（Furber 等人，2013 年；Sharp 等人，2014 年）、FACETS（Schemmel 等人，2010 年）、Neurogrid（Silver 等人，2007 年）和 TrueNorth（Merolla 等人，2014 年），==以使大规模网络模拟更快、更节能、更易于访问。神经模拟平台通常使用多核处理器、专用集成电路 (ASIC) 芯片或图形处理单元 (GPU) 等处理器，并提供不同程度的可编程性，从可编程参数到完整的指令级控制。虽然 ASIC 具有高性能和低功耗，但其架构在制造过程中是固定的，因此缺乏根据用户需求采用新设计或修改的灵活性，例如参数的精度、算术表示的类型以及要使用的神经元或突触模型。另一方面，GPU 比多核处理器提供了一些加速，并且具有良好的可编程性和灵活性，但它们往往具有较大的功耗。

FPGA 以前曾被用作神经模拟的加速器，既可用于基于电导的模型（Graas 等人，2004 年；Blair 等人，2013 年；Smaragdos 等人，2014 年），也可用于点神经元（Cassidy 等人，2007 年；Cheung 等人，2009 年；Rice 等人，2009 年；Thomas and Luk，2009 年；Moore 等人，2012 年；Cong 等人，2013 年；Wang 等人，2013 年）。高可定制性、高可扩展性和细粒度并行性使 FPGA 成为开发神经模拟平台的良好候选者。然而，到目前为止，基于 FPGA 的加速器缺乏设计自动化工具，并且仅支持有限范围的模型，因此所产生的平台通常具有相对较低的灵活性。为了向神经科学家提供一个灵活的神经形态硬件平台，以使用脉冲神经元模拟大规模生物模型，==我们开发了 NeuroFlow，这是一种可重构的基于 FPGA 的脉冲神经网络模拟器，具有高级 API（应用程序编程接口），适合没有硬件或 FPGA 技术知识的用户。与传统的多核或 GPU 模拟器相比，它提供了更高的速度，同时允许开发人员和神经科学家在传统软件环境中实现模型。==

与其他几种使用定制硬件实现的神经模拟器相比，NeuroFlow 的目标是易于维护的现成系统，并使神经平台更易于访问和移植。它允许开发人员专注于优化模型和计算的实现，而不是构建和维护底层硬件和系统。此外，它可以移植到其他平台。因此，随着更新、更快的平台的出现，可以通过升级硬件来提高平台的性能，而无需额外的开发工作。

与硬连线处理器不同，使用 FPGA 可以灵活地更改神经模拟中的模型和计算，从而使平台能够满足大量研究人员的需求。 ==NeuroFlow 将神经元和突触参数存储在大型片外 DRAM（动态随机存取存储器）模块中，以便在单个 FPGA 上模拟约 100,000 个神经元的网络。 ==可以在单个处理器上模拟的网络规模大于许多以前的 FPGA 神经模拟器，例如 Graas 等人（2004 年）和 Thomas 和 Luk（2009 年）描述的那些，它们使用快速但较小的片上 BRAM（块随机存取存储器）模块存储所有参数。 与优化特定类别神经元的方法（例如 Cassidy 等人（2011 年）和 Merolla 等人（2014 年））相比，该系统还具有更大的灵活性。

与现有的模拟器相比，我们的平台有许多新颖的方面：
• 我们使用 PyNN 开发高级 API，为用户提供模型描述和模拟环境。它是第一个基于 FPGA 的模拟器，支持使用 PyNN 配置硬件处理器并自动执行神经模型的硬件映射。 这意味着用户不需要特殊的硬件知识就可以使用加速器，使他们能够仅通过软件努力即可享受专用硬件的灵活性和性能，而无需了解低级实现的细节。
• NeuroFlow 可以根据模拟中使用的神经模型自动确定硬件设计参数，以优化硬件资源，例如并行度和要使用的 FPGA 数量。 它提高了性能，并减少了对硬件系统知之甚少或一无所知的研究人员使用硬件处理器的工作量和时间。
• 我们使用主处理器作为协处理器来实现脉冲时间相关可塑性 (STDP)。它展示了基于计算的工作负载分配的可能性，以实现神经模拟的最佳性能。